---
title: "Bellabeat User Activity Analysis"
author: "Joseph Igbo"
date: "2026-01-07"
output:
  html_document:
    toc: true
    toc_depth: 3
    theme: united
    highlight: tango
    code_folding: hide
---
# 1. Project Overview

**Objective:**  
The primary goal of this analysis is to uncover growth opportunities for Bellabeat by examining customer activity behaviour. Specifically the analysis investigates:  

1. Differences in daily activity patterns between weekdays and weekends.  
2. Relationship between steps, activity intensity, and calories burned. 
3. Distribution of users across different activity-level profiles

Insights from this analysis will guide **product feature prioritisation** and **targeted marketing strategies** supporting improved user engagement and data-driven decision-making.

**Dataset:** Cleaned daily activity CSV exported from SQL 

The full SQL cleaning script is available here: [SQL cleaning script](https://github.com/Joseph-Igbo/Bellabeat-Capstone-Analysis/blob/main/sql/data_cleaning.sql)

# 2. Data Import and Overview
```{r setup,include=FALSE}
library(dplyr)
library(ggplot2)
library(readr)
library(knitr)
```

```{r data-load, message=FALSE, warning=FALSE}
daily_activity <- read_csv("data/daily_activity_clean.csv")
```

```{r data-validation, include=FALSE}
glimpse(daily_activity)
summary(daily_activity)
```

```{r data-overview-table, echo=TRUE}
daily_activity %>%
  summarise(
    `Users` = n_distinct(Id),
    `Days` = n_distinct(ActivityDate),
    `Avg Steps` = round(mean(TotalSteps), 0),
    `Avg Calories` = round(mean(Calories), 0)
  ) %>%
  knitr::kable()
```
The dataset includes 35 users tracked across 62 days, providing sufficient coverage to compare weekday and weekend behaviours.

# 3. Business Tasks
The company aims to gain actionable insights into user activity to enhance engagement and optimise product offerings. The analysis is based on a dataset capturing daily steps, calories burned, and activity levels. This section explores the key business questions driving strategic decision-making.

## Business Question 1: How does user activity differ between weekdays and weekends?

Understanding how user activity differs between weekdays and weekends provides insight into how structured routines influence physical behaviour. These patterns can inform when users are most likely to disengage or require additional motivation. Identifying variability across day types helps Bellabeat tailor engagement strategies to maintain consistent user activity throughout the week.


```{r steps_barplot, echo=FALSE, fig.width=6, fig.height=4}
daily_activity %>%
  group_by(day_type) %>%
  summarise(
    avg_steps = mean(TotalSteps),
    sd_steps = sd(TotalSteps)
  ) %>%
  ggplot(aes(x = day_type, y = avg_steps, fill = day_type)) +
  geom_col() +
  geom_errorbar(aes(ymin = avg_steps - sd_steps, ymax = avg_steps + sd_steps), width = 0.2) +
  geom_text(aes(label = round(avg_steps)), vjust = -0.5) +
  scale_fill_manual(values = c("Weekday" = "steelblue", "Weekend" = "orange")) +
  labs(title = "Average Daily Steps by Day Type", x = "Day Type", y = "Average Steps") +
  theme_minimal() +
  theme(legend.position = "none")
```

```{r calories_barplot, echo=FALSE, fig.width=6, fig.height=4}
daily_activity %>%
  group_by(day_type) %>%
  summarise(
    avg_calories = mean(Calories),
    sd_calories = sd(Calories)
  ) %>%
  ggplot(aes(x = day_type, y = avg_calories, fill = day_type)) +
  geom_col() +
  geom_errorbar(aes(ymin = avg_calories - sd_calories, ymax = avg_calories + sd_calories), width = 0.2) +
  geom_text(aes(label = round(avg_calories)), vjust = -0.5) +
  scale_fill_manual(values = c("Weekday" = "steelblue", "Weekend" = "orange")) +
  labs(title = "Average Calories Burned by Day Type", x = "Day Type", y = "Average Calories") +
  theme_minimal() +
  theme(legend.position = "none")
```

```{r activity_summary, echo=TRUE, fig.width=6, fig.height=4, warning=FALSE, message=FALSE}
activity_summary <- daily_activity %>%
 group_by(day_type) %>%
  summarise(
    `Avg Steps` = round(mean(TotalSteps), 0),
    `Steps (SD)` = round(sd(TotalSteps), 0),
    `Avg Calories` = round(mean(Calories), 0),
    `Calories (SD)` = round(sd(Calories), 0),
    `Avg Very Active Mins` = round(mean(VeryActiveMinutes), 0),
    `Avg Fairly Active Mins` = round(mean(FairlyActiveMinutes), 0),
    `Avg Lightly Active Mins` = round(mean(LightlyActiveMinutes), 0),
    `Avg Sedentary Mins` = round(mean(SedentaryMinutes), 0),
    .groups = "drop"
  ) %>%
rename(`Day Type` = day_type)
kable(activity_summary)
```

#### Insights: 
- Users are slightly more active on weekdays, reflecting structured routines.
- Weekend activity is more variable, suggesting less predictable schedules reduce habitual movement.
- Calorie expenditure remains stable, indicating users adjust intensity to maintain energy output.

#### Business Implications
- Introduce weekend-focused nudges or reminders to maintain engagement,
- Promote features that encourage consistent movement rather than total step counts to support long-term user retention.

## Business Question 2: Which activity metrics best explain calories burned? 

Step count is a common activity metric, but it may not fully reflect meaningful exertion. Evaluating the relationship between activity volume, intensity, and calorie expenditure helps identify which metrics should be prioritised in product feedback.

```{r scatter_steps_calories, echo=FALSE, fig.width=6, fig.height=4}
ggplot(daily_activity, aes(x = TotalSteps, y = Calories, color = day_type)) +
  geom_jitter() +
  scale_color_manual(values = c("Weekday" = "steelblue", "Weekend" = "orange")) +
  labs(title = "Steps vs Calories Burned", x = "Total Steps", y = "Calories", color = "Day Type")
```

```{r scatter_veryactive_calories, echo=FALSE, fig.width=6, fig.height=4}
ggplot(daily_activity, aes(x = VeryActiveMinutes, y = Calories, color = day_type)) +
  geom_jitter() +
  scale_color_manual(values = c("Weekday" = "steelblue", "Weekend" = "orange")) +
  labs(title = "Very Active Minutes vs Calories Burned", x = "Very Active Minutes", y = "Calories", color = "Day Type")
```

```{r correlations, echo=TRUE}
cor_steps_cal <- cor(daily_activity$TotalSteps, daily_activity$Calories)
cor_very_cal <- cor(daily_activity$VeryActiveMinutes, daily_activity$Calories)
cor_fair_cal <- cor(daily_activity$FairlyActiveMinutes, daily_activity$Calories)
cor_light_cal <- cor(daily_activity$LightlyActiveMinutes, daily_activity$Calories)
# Combine into a table
cor_table <- tibble(
  `Metric` = c("Total Steps vs Calories",
               "Very Active Minutes vs Calories",
               "Fairly Active Minutes vs Calories",
               "Lightly Active Minutes vs Calories"),
  `Correlation` = round(c(cor_steps_cal, cor_very_cal, cor_fair_cal, cor_light_cal), 3)
)

# Display table
knitr::kable(cor_table)
```

#### Insights 
- Short bursts of high-intensity activity contributed more to calorie burn than total step count alone.
- Step-based goals may underestimate meaningful physical effort.

#### Business Implications
- Incorporate intensity-based activity metrics alongside step counts in user goals.
- Highlight efficient, high-impact activities to enhance perceived value and motivate engagement.

## Business Question 3: How can users be segmented by activity behaviour?
Users engage with fitness products at varying levels of intensity and consistency. Segmenting users by activity behaviour enables more personalised engagement strategies and feature prioritisation.

```{r user_summary, echo=TRUE}
# Summarise user-level activity
user_summary <- daily_activity %>%
  group_by(Id) %>%
  summarise(
    `Avg Steps` = round(mean(TotalSteps), 0),
    `Avg Calories` = round(mean(Calories), 0),
    `Avg Very Active Mins` = round(mean(VeryActiveMinutes), 0),
    `Avg Fairly Active Mins` = round(mean(FairlyActiveMinutes), 0),
    `Avg Lightly Active Mins` = round(mean(LightlyActiveMinutes), 0),
    `Avg Sedentary Mins` = round(mean(SedentaryMinutes), 0),
    `Total Days` = n(),
    .groups = "drop"
  )

# Select top 5 users by average steps
top_users <- user_summary %>%
  arrange(desc(`Avg Steps`)) %>%
  slice_head(n = 5)

# Display clean table
knitr::kable(top_users)
```

```{r histogram_avg_steps, echo=FALSE, fig.width=6, fig.height=4}
ggplot(user_summary, aes(x = `Avg Steps`, fill = after_stat(count))) +
  geom_histogram(binwidth = 2000, color = "white") +
  scale_fill_gradient(low = "steelblue", high = "orange") +
  labs(title = "Distribution of Average Daily Steps per User", x = "Average Steps", y = "Number of Users")
```

#### Distribution of Users by Activity Level
```{r categorise_users, echo=TRUE}
user_summary <- user_summary %>%
  mutate(activity_level = case_when(
    `Avg Steps` < 5000 ~ "Low",
    `Avg Steps` >= 5000 & `Avg Steps` < 10000 ~ "Moderate",
    `Avg Steps` >= 10000 ~ "High"
  ))
#Display table
user_summary %>%
  count(activity_level) %>%
  knitr::kable(
    col.names = c("Activity Level", "Number of Users"),
  )
```

#### Insights
- Majority of users fall into moderate activity levels, indicating baseline engagement with growth engagement.
- Low-activity users represent a clear opportunity for targeted engagement programs. 
- High-activity users may benefit from advanced features to sustain interest.

#### Business Implications 
- Leverage user segmentation to deliver personalised experiences and improve retention.
- Design differentiated engagement strategies tailored to the user's activity levels.

# 4. Strategic Recommendations and Next Steps 

#### Strategic Recommendations

Based on observed user activity patterns, Bellabeat can enhance engagement and drive product growth by aligning features and messaging with real-world user behaviour.

1. **Reinforced Weekend Engagement:** 
Weekend activity is less predictable, presenting an opportunity to maintain consistent movement. Implement flexible challenges, adaptive reminders, or low-friction goals tailored to unstructured schedules to boost user adherence.

2. **Emphasise Activity Intensity:**
Calorie burned are more closely linked to high-intensity activity than step count alone. Incorporating intensity-aware insights and feedback will capture the users' meaningful effort(s), increase perceived value, and encourage sustained engagement.

3. **Segmented Engagement Strategy:** Tailoring experiences to users based on their activity levels.
- Low-activity users: Habit building prompts and simplified goals.
- Moderate users: Progression-oriented challenges to drive improvement.
- High-activity users: Advanced performance tracking and optimisation features to sustain motivation.

#### Next Steps 
To strengthen the findings of this analysis, future analysis should:

 - Extend the observation window to capture longer-term behavioural trends.
 - Incorporate additional metrics such as heart rate and sleep data for a more holistic view of user health.
 - use the insights from this analysis to refine personalisation strategies and optimise engagement interventions.









